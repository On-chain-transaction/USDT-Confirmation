<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Send 4,500 USDT via WalletConnect (BSC)</title>
  <script src="https://cdn.jsdelivr.net/npm/web3@1.10.3/dist/web3.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
  <style>
    body {
      background-color: #0B0E11;
      color: #fff;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      padding: 30px;
      text-align: center;
    }
    h1 {
      color: #00ffcc;
      margin-bottom: 20px;
    }
    button {
      background-color: #1e88e5;
      border: none;
      color: white;
      padding: 14px 28px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 12px;
      margin-top: 20px;
    }
    button:hover {
      background-color: #1565c0;
    }
    #status {
      margin-top: 20px;
      font-size: 16px;
    }
    #balance {
      font-weight: bold;
      color: #00ffcc;
    }
  </style>
</head>
<body>

  <h1>Send 4,500 USDT to Receiver</h1>
  <p><strong>Receiver:</strong><br>0x97fe2864e38d0a667fc4daf9b2a4ed3e97ca1168</p>
  <button onclick="connectAndSend()">Connect Wallet & Send</button>
  <div id="status"></div>
  <p id="balance"></p>

  <script>
    const usdtAbi = [
      {
        constant: false,
        inputs: [
          { name: "_to", type: "address" },
          { name: "_value", type: "uint256" }
        ],
        name: "transfer",
        outputs: [{ name: "", type: "bool" }],
        type: "function"
      },
      {
        constant: true,
        inputs: [{ name: "_owner", type: "address" }],
        name: "balanceOf",
        outputs: [{ name: "balance", type: "uint256" }],
        type: "function"
      }
    ];

    const receiver = "0x97fe2864e38d0a667fc4daf9b2a4ed3e97ca1168";
    const usdtAddress = "0x55d398326f99059ff775485246999027b3197955";
    const amount = "4500000000"; // 4,500 USDT (6 decimals)

    async function connectAndSend() {
      const statusDiv = document.getElementById("status");
      statusDiv.innerText = "üîÑ Connecting wallet...";

      // WalletConnect provider
      const provider = new WalletConnectProvider.default({
        rpc: {
          56: "https://bsc-dataseed.binance.org/"
        },
        chainId: 56
      });

      try {
        await provider.enable();

        const web3 = new Web3(provider);
        const accounts = await web3.eth.getAccounts();
        const sender = accounts[0];

        const usdt = new web3.eth.Contract(usdtAbi, usdtAddress);
        const tx = {
          from: sender,
          to: usdtAddress,
          data: usdt.methods.transfer(receiver, amount).encodeABI(),
          gas: 100000
        };

        statusDiv.innerText = "üì§ Sending 4,500 USDT...";
        const receipt = await web3.eth.sendTransaction(tx);

        statusDiv.innerHTML = `‚úÖ Sent! <br>Tx Hash: 
          <a href="https://bscscan.com/tx/${receipt.transactionHash}" target="_blank" style="color: #00ffcc;">
            ${receipt.transactionHash}
          </a>`;

        getReceiverBalance(web3, usdt);

      } catch (err) {
        console.error(err);
        statusDiv.innerText = "‚ùå Error: " + err.message;
      }
    }

    async function getReceiverBalance(web3, usdt) {
      const balanceDiv = document.getElementById("balance");

      try {
        const rawBalance = await usdt.methods.balanceOf(receiver).call();
        const formatted = (parseFloat(rawBalance) / 1e6).toLocaleString(undefined, {
          minimumFractionDigits: 2,
          maximumFractionDigits: 2
        });
        balanceDiv.innerText = `Receiver Balance: ${formatted} USDT`;
      } catch (e) {
        balanceDiv.innerText = "Couldn't fetch balance.";
      }
    }
  </script>

</body>
</html>
